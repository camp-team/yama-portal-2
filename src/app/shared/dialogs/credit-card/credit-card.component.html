<h1 matDialogTitle>クレジットカード</h1>

<mat-dialog-content>
  <form [formGroup]="form" (ngSubmit)="createCard()">
    <mat-form-field>
      <mat-label>カード名義</mat-label>
      <input
        matInput
        formControlName="name"
        placeholder="TARO YAMADA"
        autocomplete="name"
        required
      />
      <mat-error *ngIf="formNameControl.hasError('maxlength')"
        >入力文字数が多すぎます</mat-error
      >
      <mat-error *ngIf="formNameControl.hasError('required')"
        >必須入力です</mat-error
      >
    </mat-form-field>
    <mat-form-field>
      <mat-label>メールアドレス</mat-label>
      <input
        matInput
        type="email"
        formControlName="email"
        placeholder="example@mail.com"
        required
        autocomplete="email"
      />
      <mat-error *ngIf="formEmailControl.hasError('required')"
        >必須入力です</mat-error
      >
      <mat-error *ngIf="formEmailControl.hasError('email')"
        >正しいメールアドレスを入力してください</mat-error
      >
      <mat-error *ngIf="formEmailControl.hasError('maxlength')"
        >入力文字数が多すぎます</mat-error
      >
    </mat-form-field>
    <div class="card-element" #cardElement></div>
    <div class="stripe__logo">
      <a href="https://stripe.com/ja-us" target="_blank">
        <img src="/assets/images/powered_by_stripe.svg" alt="" />
      </a>
    </div>
    <button mat-button matDialogClose>キャンセル</button>
    <button
      mat-raised-button
      color="primary"
      [disabled]="form.invalid || !isComplete"
    >
      登録
    </button>
  </form>
</mat-dialog-content>
